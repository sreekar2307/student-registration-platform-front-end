(this["webpackJsonpstudent-registration-platform-front-end"]=this["webpackJsonpstudent-registration-platform-front-end"]||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},139:function(e,t){},148:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(12),c=n.n(r),i=(n(110),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,214)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))}),o=n(69),l=n(13),d=(n(111),n(38)),u=n(39),b=n(42),j=n(41),h=n(35),m=n(194),p=n(198),O=n(199),g=n(195),f=n(197),x=n(189),v=n(207),N=n(193),y=n(208),S=n(196),C=n(89),P=n.n(C),w={baseURL:"http://localhost:8080/api/v1/"};w.baseURL="http://ec2-15-206-82-30.ap-south-1.compute.amazonaws.com/api/v1/";var k=w,I=P.a.create({baseURL:k.baseURL,timeout:1e3}),E=n(90),L=n.n(E),W=n(5),D=n(209),T=n(4),q=[{id:"id",numeric:!0,disablePadding:!0,label:"Id"},{id:"email",numeric:!1,disablePadding:!1,label:"Email Address"},{id:"name",numeric:!1,disablePadding:!1,label:"Student Name"},{id:"enrollmentNo",numeric:!1,disablePadding:!1,label:"Enrollment Number"}];function B(e){var t=e.classes,n=e.order,a=e.orderBy,s=e.onRequestSort;return Object(T.jsx)(x.a,{children:Object(T.jsx)(N.a,{children:q.map((function(e){return Object(T.jsx)(_,{align:"right",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&n,children:Object(T.jsxs)(y.a,{active:a===e.id,direction:a===e.id?n:"asc",onClick:(r=e.id,function(e){s(e,r)}),children:[e.label,a===e.id?Object(T.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var r}))})})}var R=Object(m.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},mousePointer:{cursor:"pointer"}}})),_=Object(W.a)((function(e){return{head:{backgroundColor:e.palette.grey[500],color:e.palette.common.black,fontWeight:"bold"},body:{fontSize:14}}}))(g.a);function z(e){var t=R(),n=s.a.useState("asc"),r=Object(h.a)(n,2),c=r[0],i=r[1],o=s.a.useState("id"),l=Object(h.a)(o,2),d=l[0],u=l[1],b=s.a.useState(0),j=Object(h.a)(b,2),m=j[0],x=j[1],y=s.a.useState([]),C=Object(h.a)(y,2),P=C[0],w=C[1],k=s.a.useState([]),E=Object(h.a)(k,2),W=E[0],q=E[1],_=s.a.useState(null),z=Object(h.a)(_,2),F=z[0],J=z[1];Object(a.useEffect)((function(){var e={query:{page_number:m+1,sort:"".concat(d,"::").concat(c)}};I.get("students?".concat(L.a.stringify(e))).then((function(e){var t=e.data,n=t.students,a=t.meta;w(n),q(a.pagination),J(null)})).catch((function(e){J(e.response.data)}))}),[m,d,c]);var M=W.isOutOfRange||W.isLastPage;return F?Object(T.jsx)(D.a,{color:"secondary",label:JSON.stringify(F)}):Object(T.jsx)("div",{className:t.root,children:Object(T.jsxs)(S.a,{className:t.paper,children:[Object(T.jsx)(f.a,{children:Object(T.jsxs)(p.a,{className:t.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(T.jsx)(B,{classes:t,order:c,orderBy:d,onRequestSort:function(e,t){i(d===t&&"asc"===c?"desc":"asc"),u(t),x(0)},rowCount:P.length}),Object(T.jsx)(O.a,{children:P.map((function(n){var a="enhanced-table-row-".concat(n.id);return Object(T.jsxs)(N.a,{className:t.mousePointer,hover:!0,onClick:function(t){return a=n.id,void e.history.push("/students/".concat(a));var a},tabIndex:-1,children:[Object(T.jsx)(g.a,{component:"th",id:a,scope:"row",align:"right",padding:"none",children:n.id}),Object(T.jsx)(g.a,{align:"right",children:n.email}),Object(T.jsx)(g.a,{align:"right",children:n.name}),Object(T.jsx)(g.a,{align:"right",children:n.enrollment_no})]},n.name)}))})]})}),Object(T.jsx)(v.a,{component:"div",count:-1,nextIconButtonProps:{disabled:M},rowsPerPageOptions:[15],labelDisplayedRows:function(e){var t=e.from,n=e.to,a=e.count;return M?"".concat(t,"-").concat(n):"".concat(t,"-").concat(n," of ").concat(-1!==a?a:"more than ".concat(n))},rowsPerPage:15,page:m,onChangePage:function(e,t){x(t)}})]})})}var F=n(58),J=n(7),M=n(202),U=n(203),H=n(212),G=n(205),V=n(213),A=n(206),K=n(210),Q=n(200),X=n(204),Y=n(59),Z=n.n(Y),$=n(95),ee=n.n($),te=function(e){return{root:{display:"flex",padding:"1em",flexWrap:"wrap",width:"75%"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"},formControl:{margin:e.spacing(1),width:"100%"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)},button:{margin:e.spacing(1)}}},ne={PaperProps:{style:{maxHeight:224,width:250}}},ae=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).onDelete=function(){a.setState(Object(J.a)(Object(J.a)({},a.state),{},{deleting:!0,errors:null})),I.delete("students/".concat(a.state.student.id)).then((function(){a.setState(Object(J.a)(Object(J.a)({},a.state),{},{saving:!1,errors:null})),a.props.history.push("/students")})).catch((function(e){a.setState(Object(J.a)(Object(J.a)({},a.state),{},{deleting:!1,errors:e.response.data}))}))},a.onSave=function(){a.setState(Object(J.a)(Object(J.a)({},a.state),{},{saving:!0,errors:null})),I.put("students/".concat(a.state.student.id),{student:{name:a.state.student.name,enrollment_no:a.state.student.enrollmentNo,email:a.state.student.email,degree_id:a.state.student.degree.id,course_ids:a.state.student.courses.map((function(e){return e.id}))}}).then((function(e){console.log(e),a.setState(Object(J.a)(Object(J.a)({},a.state),{},{saving:!1,errors:null}))})).catch((function(e){console.log(e),a.setState(Object(J.a)(Object(J.a)({},a.state),{},{saving:!1,errors:e.response.data}))}))},a.onCreateNew=function(){a.props.history.push("/students/create")},a.state={student:null,courses:[],degrees:[],deleting:!1,saving:!1,errors:null},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.studentId;I.get("students/".concat(t)).then((function(t){var n=t.data.student;e.setState(Object(J.a)(Object(J.a)({},e.state),{},{errors:null,student:{id:n.id,name:n.name,email:n.email,enrollmentNo:n.enrollment_no,courses:n.courses,degree:n.degree}})),I("degrees/".concat(n.degree.id,"/courses")).then((function(t){var n=t.data;e.setState(Object(J.a)(Object(J.a)({},e.state),{},{errors:null,courses:n.courses}))})).catch((function(t){e.setState(Object(J.a)(Object(J.a)({},e.state),{},{errors:t.response.data}))}))})).catch((function(t){e.setState(Object(J.a)(Object(J.a)({},e.state),{},{errors:t.response.data}))})),I.get("degrees").then((function(t){var n=t.data.degrees;e.setState(Object(J.a)(Object(J.a)({},e.state),{},{errors:null,degrees:n}))})).catch((function(t){e.setState(Object(J.a)(Object(J.a)({},e.state),{},{errors:t.response.data}))}))}},{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.student,a=t.degrees,s=t.courses,r=t.deleting,c=t.saving,i=t.errors,o=this.props.match.params.studentId;return n?Object(T.jsx)("div",{className:e.root,children:Object(T.jsxs)("div",{children:[i?Object(T.jsx)(D.a,{color:"secondary",label:JSON.stringify(i)}):Object(T.jsx)("br",{}),Object(T.jsxs)(U.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(T.jsx)(X.a,{variant:"contained",color:"primary",className:e.button,size:"large",onClick:ie.bind(this),children:"Go Back"}),Object(T.jsx)(X.a,{variant:"contained",color:"primary",className:e.button,size:"large",onClick:this.onCreateNew,children:"Create New"})]}),Object(T.jsx)(H.a,{id:"".concat(o,"-Id"),label:"Id",style:{margin:8},fullWidth:!0,value:n.id,margin:"normal",disabled:!0,InputLabelProps:{shrink:!0}}),Object(T.jsx)(H.a,{id:"".concat(o,"-name"),label:"Name",style:{margin:8},placeholder:"name of the student",helperText:"Please enter the name of the student",fullWidth:!0,onChange:se.call(this,"name"),value:n.name,margin:"normal",required:!0,InputLabelProps:{shrink:!0}}),Object(T.jsx)(H.a,{id:"".concat(o,"-email"),label:"Email",style:{margin:8},placeholder:"Email address of the student",helperText:"Please enter the email address of the student",fullWidth:!0,value:n.email,onChange:se.call(this,"email"),margin:"normal",required:!0,InputLabelProps:{shrink:!0}}),Object(T.jsx)(H.a,{id:"".concat(o,"-enrollmentNumber"),label:"Enrollment Number",style:{margin:8},placeholder:"Enrollment Number of the student",helperText:"Please enter the Enrollment Number address of the student",fullWidth:!0,value:n.enrollmentNo,onChange:se.call(this,"enrollmentNo"),margin:"normal",required:!0,InputLabelProps:{shrink:!0}}),Object(T.jsxs)(G.a,{className:e.formControl,children:[Object(T.jsx)(V.a,{children:"Degree"}),Object(T.jsxs)(A.a,{fullWidth:!0,id:"".concat(o,"-degree"),value:n.degree.name,onChange:re.bind(this),children:[Object(T.jsx)(K.a,{value:null,children:Object(T.jsx)("em",{children:"None"})}),a.map((function(e,t){return Object(T.jsx)(K.a,{value:e.name,id:"student-".concat(e.id,"-").concat(t),children:e.name},e.name)}))]})]}),Object(T.jsxs)(G.a,{className:e.formControl,children:[Object(T.jsx)(V.a,{children:"Courses"}),Object(T.jsx)(A.a,{fullWidth:!0,id:"".concat(o,"-courses"),multiple:!0,value:n.courses.map((function(e){return e.name})),input:Object(T.jsx)(Q.a,{id:"select-multiple-chip"}),placeholder:"Courses Enrolled by the Student",onChange:ce.bind(this),renderValue:function(t){return Object(T.jsx)("div",{className:e.chips,children:t.map((function(t){return Object(T.jsx)(D.a,{label:t,className:e.chip},t)}))})},MenuProps:ne,children:s.map((function(e){return Object(T.jsx)(K.a,{value:e.name,children:e.name},"student-courses-".concat(e.name))}))})]}),Object(T.jsxs)(U.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(T.jsx)(X.a,{variant:"contained",color:"secondary",className:e.button,onClick:this.onDelete,disabled:r,startIcon:Object(T.jsx)(ee.a,{}),children:"Delete"}),Object(T.jsx)(X.a,{variant:"contained",color:"primary",className:e.button,onClick:this.onSave,disabled:c,startIcon:Object(T.jsx)(Z.a,{}),children:"Save"})]})]})}):Object(T.jsx)(M.a,{})}}]),n}(s.a.Component);function se(e){var t=this;return function(n){return t.setState(Object(J.a)(Object(J.a)({},t.state),{},{student:Object(J.a)(Object(J.a)({},t.state.student),{},Object(F.a)({},e,n.target.value))}))}}function re(e){var t=this,n=this.state.degrees.find((function(t){return e.target.value===t.name}));this.setState(Object(J.a)(Object(J.a)({},this.state),{},{student:Object(J.a)(Object(J.a)({},this.state.student),{},{degree:n,courses:[]})})),I.get("degrees/".concat(n.id,"/courses")).then((function(e){var n=e.data;t.setState(Object(J.a)(Object(J.a)({},t.state),{},{courses:n.courses}))}))}function ce(e){var t=this.state.courses.map((function(t){return e.target.value.find((function(e){return e===t.name}))?t:null})).filter((function(e){return null!==e}));this.setState(Object(J.a)(Object(J.a)({},this.state),{},{student:Object(J.a)(Object(J.a)({},this.state.student),{},{courses:t})}))}function ie(){this.props.history.goBack()}var oe=Object(W.a)(te)(ae),le=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).onSave=function(){a.setState(Object(J.a)(Object(J.a)({},a.state),{},{saving:!0})),I.post("students/",{student:{name:a.state.student.name,enrollment_no:a.state.student.enrollmentNo,email:a.state.student.email,degree_id:a.state.student.degree?null:a.state.student.degree.id,course_ids:a.state.student.courses.map((function(e){return e.id}))}}).then((function(){a.setState(Object(J.a)(Object(J.a)({},a.state),{},{errors:null,saving:!1}))})).catch((function(e){a.setState(Object(J.a)(Object(J.a)({},a.state),{},{saving:!1,errors:e.response.data}))}))},a.state={student:{name:"",email:"",degree:{name:""},courses:[],enrollmentNo:""},courses:[],degrees:[],deleting:!1,saving:!1,errors:null},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;I.get("degrees").then((function(t){var n=t.data.degrees;e.setState(Object(J.a)(Object(J.a)({},e.state),{},{degrees:n,errors:null}))})).catch((function(t){e.setState(Object(J.a)(Object(J.a)({},e.state),{},{errors:t.response.data}))}))}},{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.student,a=t.degrees,s=t.courses,r=t.saving,c=t.errors;return Object(T.jsx)("div",{className:e.root,children:Object(T.jsxs)("div",{children:[c?Object(T.jsx)(D.a,{color:"secondary",label:JSON.stringify(c)}):Object(T.jsx)("br",{}),Object(T.jsx)(U.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:Object(T.jsx)(X.a,{variant:"contained",color:"primary",className:e.button,size:"large",onClick:ie.bind(this),children:"Go Back"})}),Object(T.jsx)(H.a,{id:"student-name",label:"Name",style:{margin:8},placeholder:"name of the student",helperText:"Please enter the name of the student",fullWidth:!0,onChange:se.call(this,"name"),value:n.name,margin:"normal",required:!0,InputLabelProps:{shrink:!0}}),Object(T.jsx)(H.a,{id:"student-email",label:"Email",style:{margin:8},placeholder:"Email address of the student",helperText:"Please enter the email address of the student",fullWidth:!0,value:n.email,onChange:se.call(this,"email"),margin:"normal",required:!0,InputLabelProps:{shrink:!0}}),Object(T.jsx)(H.a,{id:"student-enrollmentNumber",label:"Enrollment Number",style:{margin:8},placeholder:"Enrollment Number of the student",helperText:"Please enter the Enrollment Number address of the student",fullWidth:!0,value:n.enrollmentNo,onChange:se.call(this,"enrollmentNo"),margin:"normal",required:!0,InputLabelProps:{shrink:!0}}),Object(T.jsxs)(G.a,{className:e.formControl,children:[Object(T.jsx)(V.a,{children:"Degree"}),Object(T.jsxs)(A.a,{fullWidth:!0,id:"student-degree",value:n.degree&&n.degree.name,onChange:re.bind(this),children:[Object(T.jsx)(K.a,{value:null,children:Object(T.jsx)("em",{children:"None"})}),a.map((function(e,t){return Object(T.jsx)(K.a,{value:e.name,id:"student-".concat(e.id,"-").concat(t),children:e.name},e.name)}))]})]}),Object(T.jsxs)(G.a,{className:e.formControl,children:[Object(T.jsx)(V.a,{children:"Courses"}),Object(T.jsx)(A.a,{fullWidth:!0,id:"student-courses",multiple:!0,value:n.courses.map((function(e){return e.name})),input:Object(T.jsx)(Q.a,{id:"select-multiple-chip"}),placeholder:"Courses Enrolled by the Student",onChange:ce.bind(this),renderValue:function(t){return Object(T.jsx)("div",{className:e.chips,children:t.map((function(t){return Object(T.jsx)(D.a,{label:t,className:e.chip},t)}))})},MenuProps:ne,children:s.map((function(e){return Object(T.jsx)(K.a,{value:e.name,children:e.name},"student-courses-".concat(e.name))}))})]}),Object(T.jsx)(U.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:Object(T.jsx)(X.a,{variant:"contained",color:"primary",className:e.button,onClick:this.onSave,disabled:r,startIcon:Object(T.jsx)(Z.a,{}),children:"Create"})})]})})}}]),n}(s.a.Component),de=Object(W.a)(te)(le),ue=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(T.jsx)("div",{children:Object(T.jsxs)(l.c,{children:[Object(T.jsx)(l.a,{path:"/students/create",exact:!0,component:de}),Object(T.jsx)(l.a,{path:"/students/:studentId",exact:!0,component:oe}),Object(T.jsx)(l.a,{path:"/students",exact:!0,component:z}),Object(T.jsx)(l.a,{path:"/",exact:!0,component:z})]})})}}]),n}(s.a.Component),be=Object(l.f)(ue);var je=function(){return Object(T.jsx)(o.a,{children:Object(T.jsx)(l.a,{component:be})})};c.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)(je,{})}),document.getElementById("root")),i()}},[[148,1,2]]]);
//# sourceMappingURL=main.b6817140.chunk.js.map